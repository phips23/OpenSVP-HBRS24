2024-11-27 13:07:48.041  D  
2024-11-27 13:07:48.041  D  **************  Starting VV_1  **************
2024-11-27 13:07:48.042  D  Script: VV.py 1.4.3
2024-11-27 13:07:48.042  I  Test Parameters:
2024-11-27 13:07:48.042  I      Volt-Var mode = Normal
2024-11-27 13:07:48.042  I      Characteristic 1 curve = Enabled
2024-11-27 13:07:48.043  I      Response time (s) for curve 1 = 10.0
2024-11-27 13:07:48.043  I      Characteristic 2 curve = Disabled
2024-11-27 13:07:48.043  I      Characteristic 3 curve = Disabled
2024-11-27 13:07:48.044  I      Power Levels iteration = 100%
2024-11-27 13:07:48.044  I      Voltage reference iteration = All
2024-11-27 13:07:48.044  I  EUT Parameters:
2024-11-27 13:07:48.044  I      Phases = Three phase
2024-11-27 13:07:48.045  I      Apparent power rating (VA) = 10000.0
2024-11-27 13:07:48.045  I      Output power rating (W) = 8000.0
2024-11-27 13:07:48.045  I      Minimum Power Rating(W) = 1000.0
2024-11-27 13:07:48.045  I      Output var rating (vars) = 2000.0
2024-11-27 13:07:48.045  I      Nominal AC voltage (V) = 120.0
2024-11-27 13:07:48.046  I      Minimum AC voltage (V) = 105.6
2024-11-27 13:07:48.046  I      Maximum AC voltage (V) = 132.0
2024-11-27 13:07:48.046  I      V_in_nom: Nominal input voltage (Vdc) = 400
2024-11-27 13:07:48.046  I      Nominal AC frequency (Hz) = 60.0
2024-11-27 13:07:48.046  I      Maximum frequency in the continuous operating region (Hz) = 66.0
2024-11-27 13:07:48.047  I      Minimum frequency in the continuous operating region (Hz) = 56.0
2024-11-27 13:07:48.047  I      EUT response to phase imbalance is calculated by: = EUT response to the average of the three-phase effective (RMS)
2024-11-27 13:07:48.047  I  DER Parameters:
2024-11-27 13:07:48.047  I      DER Mode = Disabled
2024-11-27 13:07:48.048  I  Grid Simulator Parameters:
2024-11-27 13:07:48.048  I      Mode = Opal
2024-11-27 13:07:48.049  I      Configure grid simulator at beginning of test = Enabled
2024-11-27 13:07:48.049  I      Opal Parameters:
2024-11-27 13:07:48.049  I          Phases = 3
2024-11-27 13:07:48.050  I          Nominal voltage for all phases = 230.0
2024-11-27 13:07:48.050  I          Frequency = 50.0
2024-11-27 13:07:48.050  I          Max Voltage = 250.0
2024-11-27 13:07:48.050  I          Max Frequency = 70.0
2024-11-27 13:07:48.051  I          Min Frequency = 45.0
2024-11-27 13:07:48.051  I  PV Simulator Parameters:
2024-11-27 13:07:48.051  I      Mode = Disabled
2024-11-27 13:07:48.052  I  Data Acquisition System Parameters:
2024-11-27 13:07:48.052  I      Mode = Opal
2024-11-27 13:07:48.052  I      Opal Parameters:
2024-11-27 13:07:48.052  I          Sample Interval (ms) = 1000
2024-11-27 13:07:48.053  I          Opal Analog Channel Map (e.g. simulinks blocks, etc,.) = Opal_Phase_Jump
2024-11-27 13:07:48.053  I          Waveform Directory = C:\Users\Host-PC\Desktop\pschmitz\OpenSVP_Testing2\models\IEEE_1547_Testing\ieee_1547_testing_sm_source\OpREDHAWK64target
2024-11-27 13:07:48.053  I          Waveform Channel List = PhaseJump
2024-11-27 13:07:48.053  I          Waveform Data File Name (.mat) = Data.mat
2024-11-27 13:07:48.054  I          Capture data from the console? = No
2024-11-27 13:07:48.054  I  HIL Parameters:
2024-11-27 13:07:48.054  I      Mode = Opal-RT
2024-11-27 13:07:48.055  I      Opal-RT Parameters:
2024-11-27 13:07:48.055  I          Target name in RT-LAB = Microgrid_Testbench
2024-11-27 13:07:48.055  I          Project Directory Loacation = C:\Users\Host-PC\Desktop\pschmitz\OpenSVP_Testing2\OpenSVP_Testing2.llp
2024-11-27 13:07:48.055  I          RT-LAB model name (.mdl or .slx) = IEEE_1547_Testing
2024-11-27 13:07:48.142  I          Real-Time simulation mode = Hardware
2024-11-27 13:07:48.143  I          Configure HIL in init = False
2024-11-27 13:07:48.144  I          Stop Time = 3600.0
2024-11-27 13:07:48.144  I  Functions to be activated in this test script = ['VV']
2024-11-27 13:07:48.144  D  Sc points: ['V_MEAS', 'V_TARGET', 'Q_MEAS', 'Q_TARGET', 'Q_TARGET_MIN', 'Q_TARGET_MAX', 'EVENT']
2024-11-27 13:07:48.145  D  summary column=90%_BY_TR=1,WITHIN_BOUNDS_BY_TR=1,WITHIN_BOUNDS_BY_LAST_TR,V_MEAS,V_TARGET,Q_MEAS,Q_TARGET,Q_TARGET_MIN,Q_TARGET_MAX,STEP,FILENAME
2024-11-27 13:07:48.145  D  1547.1 Library configured for UNDEFINED IN TEST CLASS
2024-11-27 13:07:48.146  D  y_variables={'Q': 'VV'}
2024-11-27 13:07:48.146  D  y_temp: Q
2024-11-27 13:07:48.345  D  y_points: ['AC_Q_1,AC_Q_2,AC_Q_3']
2024-11-27 13:07:48.347  D  y2_variable for result: V
2024-11-27 13:07:48.347  D  {'plot.title': 'title_name', 'plot.x.title': 'Time (sec)', 'plot.x.points': 'TIME', 'plot.y.points': 'AC_Q_1,AC_Q_2,AC_Q_3', 'plot.y.title': 'Reactive Power', 'plot.y2.points': 'AC_VRMS_1,AC_VRMS_2,AC_VRMS_3', 'plot.y2.title': 'Voltage', 'plot.Q_TARGET.min_error': 'Q_TARGET_MIN', 'plot.Q_TARGET.max_error': 'Q_TARGET_MAX'}
2024-11-27 13:07:48.348  D  ***************HIL initialization***************
2024-11-27 13:07:48.349  I  Opening Project: C:\Users\Host-PC\Desktop\pschmitz\OpenSVP_Testing2\OpenSVP_Testing2.llp
2024-11-27 13:07:48.349  I  Assuming project name is an absolute path to .llp file
2024-11-27 13:07:48.350  I  Opening project file: C:\Users\Host-PC\Desktop\pschmitz\OpenSVP_Testing2\OpenSVP_Testing2.llp
2024-11-27 13:07:48.576  I  Opened Project: C:\Users\Host-PC\Desktop\pschmitz\OpenSVP_Testing2\OpenSVP_Testing2.llp
2024-11-27 13:07:48.576  D  info(), self.target_name = Microgrid_Testbench
2024-11-27 13:07:48.594  I  OPAL-RT - Platform version OPAL-RTLinux 3.5.4 (4.19.80-opalrtlinux) (IP address : 192.168.10.102)
2024-11-27 13:07:48.595  I  Opening Project: C:\Users\Host-PC\Desktop\pschmitz\OpenSVP_Testing2\OpenSVP_Testing2.llp
2024-11-27 13:07:48.595  I  Assuming project name is an absolute path to .llp file
2024-11-27 13:07:48.595  I  Opening project file: C:\Users\Host-PC\Desktop\pschmitz\OpenSVP_Testing2\OpenSVP_Testing2.llp
2024-11-27 13:07:48.598  I  Opened Project: C:\Users\Host-PC\Desktop\pschmitz\OpenSVP_Testing2\OpenSVP_Testing2.llp
2024-11-27 13:07:49.623  I  Stopping/Resetting simulation. Current State: Model Loadable
2024-11-27 13:07:49.623  I  Model already stopped.
2024-11-27 13:07:49.623  I  Model state is now: Model Loadable
2024-11-27 13:07:49.624  I      Model Loadable
2024-11-27 13:07:49.624  I  Setting the simulation stop time for 3600.0 to run experiment.
2024-11-27 13:07:49.624  W  Stop time already set to 3600.0
2024-11-27 13:07:50.639  I  Loading Model.  This may take a while...
2024-11-27 13:07:50.640  I  The realtimemod : HARD_SYNC_MODE(0)
2024-11-27 13:08:14.301  I      The model is loaded.
2024-11-27 13:08:14.301  I  Simulation started.
2024-11-27 13:08:14.457  I      The model state is now: Model Running
2024-11-27 13:08:14.458  D  ***************PVSIM initialization***************
2024-11-27 13:08:14.458  D  ***************DAS initialization***************
2024-11-27 13:08:14.459  D  DAS connected to with HIL: <svpelab.hil_opal.HIL object at 0x000001D55C538C08>, DC meas: None, and gridsim: None
2024-11-27 13:08:14.488  I  DAS device: OPAL-RT - Platform version OPAL-RTLinux 3.5.4 (4.19.80-opalrtlinux) (IP address : 192.168.10.102)
2024-11-27 13:08:14.488  D  ***************EUT initialization***************
2024-11-27 13:08:14.489  D  Set L/HVRT and trip parameters set to the widest range of adjustability possible.
2024-11-27 13:08:14.489  D  ***************GRIDSIM initialization***************
2024-11-27 13:08:14.489  D  info(), self.target_name = Microgrid_Testbench
2024-11-27 13:08:14.518  D  Configuring gridsim with Opal hil parameters...using OPAL-RT - Platform version OPAL-RTLinux 3.5.4 (4.19.80-opalrtlinux) (IP address : 192.168.10.102)
2024-11-27 13:08:14.519  D  hil object : <svpelab.hil_opal.HIL object at 0x000001D55C538C08>
2024-11-27 13:08:14.519  I  Configuring the Grid Simulator.
2024-11-27 13:08:14.519  I  Configuring phase angles, frequencies, and voltages for gridsim
2024-11-27 13:08:14.530  D  matlab variable PHASE_PHA was already configured to 0 
2024-11-27 13:08:14.540  D  matlab variable PHASE_PHB was already configured to -120 
2024-11-27 13:08:14.551  D  matlab variable PHASE_PHC was already configured to 120 
2024-11-27 13:08:14.602  D  matlab variable FREQUENCY was already configured to 50.0 
2024-11-27 13:08:14.622  D  matlab variable VOLT_PHA was already configured to 1.0 
2024-11-27 13:08:14.632  D  matlab variable VOLT_PHB was already configured to 1.0 
2024-11-27 13:08:14.640  D  matlab variable VOLT_PHC was already configured to 1.0 
2024-11-27 13:08:14.678  D  Setting matlab variable FREQUENCY_MAX_LIMIT to 70.0 instead of 55.0 
2024-11-27 13:08:15.218  D  matlab variable FREQUENCY_MIN_LIMIT was already configured to 45.0 
2024-11-27 13:08:15.236  D  Setting matlab variable VOLTAGE_MAX_LIMIT to 1.0869565217391304 instead of 1.2 
2024-11-27 13:08:15.778  D  matlab variable VOLTAGE_MIN_LIMIT was already configured to 0.0 
2024-11-27 13:08:15.796  D  Setting matlab variable VOLT_PHA to 0.5217391304347826 instead of 1.0 
2024-11-27 13:08:16.337  D  Setting matlab variable VOLT_PHB to 0.5217391304347826 instead of 1.0 
2024-11-27 13:08:16.880  D  Setting matlab variable VOLT_PHC to 0.5217391304347826 instead of 1.0 
2024-11-27 13:08:17.442  I  Configuring phase angles, frequencies, and voltages for gridsim
2024-11-27 13:08:17.453  D  matlab variable PHASE_PHA was already configured to 0 
2024-11-27 13:08:17.463  D  matlab variable PHASE_PHB was already configured to -120 
2024-11-27 13:08:17.474  D  matlab variable PHASE_PHC was already configured to 120 
2024-11-27 13:08:17.515  D  matlab variable FREQUENCY was already configured to 50.0 
2024-11-27 13:08:17.536  D  Setting matlab variable VOLT_PHA to 1.0 instead of 0.5217391304347826 
2024-11-27 13:08:18.077  D  Setting matlab variable VOLT_PHB to 1.0 instead of 0.5217391304347826 
2024-11-27 13:08:18.620  D  Setting matlab variable VOLT_PHC to 1.0 instead of 0.5217391304347826 
2024-11-27 13:08:19.193  D  matlab variable FREQUENCY_MAX_LIMIT was already configured to 70.0 
2024-11-27 13:08:19.212  D  matlab variable FREQUENCY_MIN_LIMIT was already configured to 45.0 
2024-11-27 13:08:19.232  D  matlab variable VOLTAGE_MAX_LIMIT was already configured to 1.0869565217391304 
2024-11-27 13:08:19.252  D  matlab variable VOLTAGE_MIN_LIMIT was already configured to 0.0 
2024-11-27 13:08:19.364  I  Starting test with characteristic curve 1
2024-11-27 13:08:19.364  D  P1547 Librairy curve has been set 1
2024-11-27 13:08:19.365  D  P1547 Time response has been set to 10.0 seconds
2024-11-27 13:08:19.365  D  P1547 Number of Time response has been set to 2 cycles
2024-11-27 13:08:19.365  D  P1547 Librairy power level has been set 100%
2024-11-27 13:08:19.366  I  Setting v_ref at 100 % of v_nom
2024-11-27 13:08:19.376  D  Setting matlab variable VOLT_PHA to 0.5217391304347826 instead of 1.0 
2024-11-27 13:08:19.911  D  Setting matlab variable VOLT_PHB to 0.5217391304347826 instead of 1.0 
2024-11-27 13:08:20.448  D  Setting matlab variable VOLT_PHC to 0.5217391304347826 instead of 1.0 
2024-11-27 13:08:21.000  I  Start simulation of CHIL
2024-11-27 13:08:21.000  W  Model was not loaded because the status is:  Model Running
2024-11-27 13:08:21.001  W  Model is not running because the status is:  Model Running
2024-11-27 13:08:21.001  D  OrderedDict([('Step G', 120.6), ('Step H', 124.2), ('Step I', 126.0), ('Step J', 127.8), ('Step K', 131.4), ('Step L', 130.2), ('Step M', 131.4), ('Step N', 127.8), ('Step O', 126.0), ('Step P', 124.2), ('Step Q', 120.6), ('Step R', 120.0), ('Step S', 119.4), ('Step T', 115.8), ('Step U', 114.0), ('Step V', 112.2), ('Step W', 108.6), ('Step X', 107.4), ('Step Y', 108.6), ('Step Z', 112.2), ('Step AA', 114.0), ('Step BB', 115.8), ('Step CC', 119.4), ('Step DD', 120.0)])
2024-11-27 13:08:21.001  I  Voltage step: setting Grid simulator voltage to 120.6 (Step G)
2024-11-27 13:08:21.611  D  0.0
2024-11-27 13:08:21.611  D  nan
2024-11-27 13:08:21.629  D  Setting matlab variable VOLT_PHA to 0.5243478260869565 instead of 0.5217391304347826 
2024-11-27 13:08:22.164  D  Setting matlab variable VOLT_PHB to 0.5243478260869565 instead of 0.5217391304347826 
2024-11-27 13:08:22.702  D  Setting matlab variable VOLT_PHC to 0.5243478260869565 instead of 0.5217391304347826 
2024-11-27 13:08:23.270  I  Waiting 7.732149 seconds to get the next Tr data for analysis...
2024-11-27 13:08:31.921  I  Value V: 0.0
2024-11-27 13:08:31.921  I  Value Q: nan
2024-11-27 13:08:31.922  I  Waiting 9.08015 seconds to get the next Tr data for analysis...
2024-11-27 13:08:41.655  I  Value V: 0.0
2024-11-27 13:08:41.655  I  Value Q: nan
2024-11-27 13:08:41.655  I  Waiting 9.347125 seconds to get the next Tr data for analysis...
2024-11-27 13:08:51.901  I  Value V: 0.0
2024-11-27 13:08:51.901  I  Value Q: nan
2024-11-27 13:08:51.901  D  daq={'V_MEAS': 0.0, 'V_TARGET': 120.0, 'Q_MEAS': nan, 'Q_TARGET': 100, 'Q_TARGET_MIN': 100, 'Q_TARGET_MAX': 100, 'EVENT': 'Step G_TR_3', 'event': 'Step G'}
2024-11-27 13:08:51.901  D  tr_iter=0
2024-11-27 13:08:51.902  D  step_dict
2024-11-27 13:08:51.902  D  tr_targ=120.6
2024-11-27 13:08:51.902  I  X Value (V) = 0.0
2024-11-27 13:08:51.902  D  function=VV
2024-11-27 13:08:51.903  D  0.0
2024-11-27 13:08:51.903  D  Q_TR_TARG_0
2024-11-27 13:08:51.903  D  tr_target=0.0
2024-11-27 13:08:51.903  I  Y Value (Q) = nan. Pass/fail bounds = [-750.0, 750.0]
2024-11-27 13:08:51.904  D  tr_iter=1
2024-11-27 13:08:51.904  D  step_dict
2024-11-27 13:08:51.904  D  tr_targ=120.6
2024-11-27 13:08:51.904  I  X Value (V) = 0.0
2024-11-27 13:08:51.905  D  function=VV
2024-11-27 13:08:51.905  D  0.0
2024-11-27 13:08:51.905  D  Q_TR_TARG_1
2024-11-27 13:08:51.905  D  tr_target=0.0
2024-11-27 13:08:51.906  I  Y Value (Q) = nan. Pass/fail bounds = [-750.0, 750.0]
2024-11-27 13:08:51.906  D  tr_iter=2
2024-11-27 13:08:51.906  D  step_dict
2024-11-27 13:08:51.906  D  tr_targ=120.6
2024-11-27 13:08:51.906  I  X Value (V) = 0.0
2024-11-27 13:08:51.907  D  function=VV
2024-11-27 13:08:51.907  D  0.0
2024-11-27 13:08:51.907  D  Q_TR_TARG_2
2024-11-27 13:08:51.907  D  tr_target=0.0
2024-11-27 13:08:51.908  I  Y Value (Q) = nan. Pass/fail bounds = [-750.0, 750.0]
2024-11-27 13:08:51.908  I  Calculating pass/fail for Tr = 10.0 sec, with a target of 1 sec
2024-11-27 13:08:51.908  D  y_target = nan, y_ss [0.00], y_start [nan], duration = 10.0, tr=1
2024-11-27 13:08:51.908  D  Transient y_targ =nan, y_min [nan] <= y_meas [nan] <= y_max [nan] = Fail
2024-11-27 13:08:51.908  D  RESULT_ACCURACY
2024-11-27 13:08:51.909  I    Steady state Q(Tr_1) evaluation: -750.0 <= nan <= 750.0  [Fail]
2024-11-27 13:08:51.909  I    Steady state Q(Tr_2) evaluation: -750.0 <= nan <= 750.0  [Fail]
2024-11-27 13:08:51.909  I  Voltage step: setting Grid simulator voltage to 124.2 (Step H)
2024-11-27 13:08:52.482  D  0.0
2024-11-27 13:08:52.482  D  nan
2024-11-27 13:08:52.493  D  Setting matlab variable VOLT_PHA to 0.54 instead of 0.5243478260869565 
2024-11-27 13:08:53.034  D  Setting matlab variable VOLT_PHB to 0.54 instead of 0.5243478260869565 
2024-11-27 13:08:53.561  D  Setting matlab variable VOLT_PHC to 0.54 instead of 0.5243478260869565 
2024-11-27 13:08:54.123  I  Waiting 7.785642 seconds to get the next Tr data for analysis...
2024-11-27 13:09:02.800  I  Value V: 0.0
2024-11-27 13:09:02.801  I  Value Q: nan
2024-11-27 13:09:02.801  I  Waiting 9.10824 seconds to get the next Tr data for analysis...
2024-11-27 13:09:10.919  I  message: {'op': 'cmd', 'cmd': 'stop'}
2024-11-27 13:09:10.919  I  Saving file: VV_1_PWR_100_vref_100.csv
2024-11-27 13:09:11.030  E  Test script exception: Traceback (most recent call last):
  File "C:\Users\Philipp Schmitz\Desktop\OpenSVP\OpenSVP-HBRS24\1547.1\Scripts\VV.py", line 326, in volt_vars_mode
    ActiveFunction.record_timeresponse(daq=daq)
  File "C:\Users\Philipp Schmitz\Desktop\OpenSVP\OpenSVP-HBRS24\1547.1\Lib\svpelab\p1547.py", line 605, in record_timeresponse
    self.ts.sleep(time_to_sleep.total_seconds())
  File "C:\Users\Philipp Schmitz\Desktop\OpenSVP\OpenSVP-HBRS24\app.py", line 561, in sleep
    raise script.ScriptError('Commanded stop')
script.ScriptError: Commanded stop

2024-11-27 13:09:11.045  D  Setting matlab variable VOLT_PHA to 0.5217391304347826 instead of 0.54 
2024-11-27 13:09:11.589  D  Setting matlab variable VOLT_PHB to 0.5217391304347826 instead of 0.54 
2024-11-27 13:09:12.122  D  Setting matlab variable VOLT_PHC to 0.5217391304347826 instead of 0.54 
2024-11-27 13:09:12.679  I  Stopping/Resetting simulation. Current State: Model Running
2024-11-27 13:09:21.537  I  Model state is now: Model Loadable
2024-11-27 13:09:21.747  I  Test result - Fail
